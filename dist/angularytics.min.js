/**
 * The solution to tracking page views and events in a SPA with AngularJS
 * @version v0.1.0 - 2013-06-03
 * @link https://github.com/mgonto/angularytics
 * @author Martin Gontovnikas <martin@gonto.com.ar>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){angular.module("angularytics",[]).provider("Angularytics",function(){var a=["Google"];this.setEventHandlers=function(c){_.isString(c)&&(c=[c]),a=_.map(c,b)};var b=function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()};this.$get=["$injector","$rootScope","$location",function(b,c,d){var e=_.map(a,function(a){return b.get("Angularytics"+a+"Handler")}),f=function(a){_.each(e,function(b){a(b)})};c.$on("$locationChangeSuccess",function(){f(function(a){var b=d.path();b&&a.trackPageView(b)})});var g={};return g.init=function(){},g.trackEvent=function(a,b,c,d,e){f(function(f){a&&b&&f.trackEvent(a,b,c,d,e)})},g}]})}(),function(){angular.module("angularytics").factory("AngularyticsConsoleHandler",["$log",function(a){var b={};return b.trackPageView=function(b){a.log("URL visited",b)},b.trackEvent=function(b,c,d,e,f){a.log("Event tracked",b,c,d,e,f)},b}])}(),function(){angular.module("angularytics").factory("AngularyticsGoogleHandler",["$log",function(){var a={};return a.trackPageView=function(a){_gaq.push(["_trackPageview",a])},a.trackEvent=function(a,b,c,d,e){_gaq.push(["_trackEvent",a,b,c,d,e])},a}])}(),function(){angular.module("angularytics").filter("trackEvent",["Angularytics",function(a){return function(b,c,d,e,f,g){return a.trackEvent(c,d,e,f,g),b}}])}();